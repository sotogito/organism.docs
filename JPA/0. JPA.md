```
## JPA (Java Persistence API) ##  
1. 자바 진영의 ORM(Object Relational Mapping) 기술 표준  
2. ORM 기술을 사용하기 위한 표준 인터페이스의 모음  
   * ORM : 객체 관계 매핑, 객체와 관계형 데이터베이스를 중간에서 매핑하는 기술  
3. JPA 2.1 기준 표준 명세를 구현한 구현체들 활용을 위해 Hibernate가 필요함  
4. JPA의 특징  
   5) 영속성 컨텍스트(Persistence Context)가 엔티티(Entity)를 생명주기에 맞게 관리  
   6) JPQL을 지원함  
   7) Native Query를 지원함  
   8) DBMS 별로 Dialect를 제공  
      * Dialect(방언) : DBMS마다 조금씩 다른 SQL문법, 함수, 데이터타입이 있는데 이를 추상화하여  
                        ORM 프레임워크가 DBMS 종류에 맞게 SQL을 자동으로 생성할 수 있도록 도와주는 개념  
9. JPA의 장점  
   10) 객체지향과 관계지향이라는 서로 다른 패러다임의 불일치를 해소할 수 있음  
   11) SQL 중심이 아닌 객체지향 중심으로 개발 가능  
   12) 개발자가 직접 SQL문을 작성할 필요 없음  
      DBMS에 따른 SQL문을 JPA가 스스로 판단하여 생성해줌  
   13) 엔티티 설정이 변경되면 SQL문이 자동으로 수정되어 유지보수 용이  
14. JPA의 단점  
   15) 복잡한 SQL문을 작성하기엔 적절하지 않음  
   16) JPA의 이해도가 낮은 상태에서 개발하면 성능 저하 발생  
   17) 복잡한 동적 SQL문의 경우 순수 JPA만으로 지원이 안되는 부분이 있음 (추가 라이브러리 사용)  
18. JPA 기본 동작 방식  
   엔티티(Entity)를 저장하고 관리하는 영속성 컨텍스트(Persistence Context)를 활용함  
   Java Application (Entity)  
     ㄴ JPA  
         ㄴ JDBC API  ◀──▶  DataBase (Table)  
19. 주요 용어 및 클래스  
   20) Entity  
       → 관계형 데이터베이스의 테이블과 매핑되는 자바 클래스  
       → @Entity, @Table, @Id, @Column 등의 어노테이션 활용  
   21) EntityManager  
       → 엔티티(Entity)를 저장하는 메모리상의 데이터베이스(영속성 컨텍스트)를 관리하는 인스턴스  
       → 엔티티의 조회, 저장, 수정, 삭제 등 엔티티에 관한 모든 작업을 처리함  
       → 요청마다 생성하고 요청이 끝나면 소멸함  
   22) EntityManagerFactory  
       → EntityManager를 생성하기 위한 팩토리 클래스  
       → 애플리케이션 동작 시 싱글톤으로 생성해서 관리 권장  
  
   *  Persistence Context  
       → 엔티티를 영구 저장하는 환경을 의미  
       → 엔티티 매니저에 엔티티를 저장하거나 조회하면 엔티티 매니저는 해당 엔티티를 영속성 컨텍스트에 보관하여 관리  
       → 엔티티 매니저를 이용하여 영속성 컨텍스트에 접근하고 관리함  
  
9. 엔티티의 영속성 컨텍스트에서의 생명 주기  
   10) 비영속(new/transient) : 영속성 컨텍스트가 관리하지 않는 엔티티  
   11) 영속(managed)         : 영속성 컨텍스트에 저장되어 관리되는 엔티티  
   12) 준영속(detached)      : 영속성 컨텍스트에 저장되었다가 분리된 엔티티  
   13) 삭제(removed)         : 영속성 컨텍스트에서 삭제된 엔티티  
   14) 병합(merge)           : 준영속 상태에서 다시 영속 상태로 변경된 엔티티  
  
------------------------------------------------------------------------------------------------------------------------  
  
* Entity 클래스 관련 기본 어노테이션  
1) @Entity  
    → JPA에서 엔티티 클래스(RDBMS의 테이블과 매핑되는 자바클래스)임을 명시하는 어노테이션  
    → 일반 클래스와 달리 다른 패키지에 같은 이름을 가진 엔티티가 존재할 수 없음  
    → 다른 패키지에 같은 이름의 엔티티가 존재하면 name 속성으로 구분해야됨  
2) @Table  
    → 해당 엔티티와 매핑되는 테이블을 지정하는 어노테이션  
3) @DynamicUpdate  
    → JPA에서 변경된 엔티티의 필드만 관계형 데이터베이스에 반영하는 어노테이션  
4) @Id  
    → 엔티티의 식별자 필드에 부여하는 어노테이션  
    → 즉, 매핑된 테이블의 기본키(PK)와 연결할 수 있음  
5) @GeneratedValue  
    → 엔티티의 식별자를 자동으로 생성하고자 할 때 부여하는 어노테이션  
    → 매핑된 테이블의 기본키가 생성되는 방식에 따라서 strategy 속성을 지정할 수 있음  
6) @Column  
    → 테이블의 컬럼과 대응되는 필드에 부여하는 어노테이션  
    → 대응되는 컬럼명은 name 속성으로 지정 가능  
  
------------------------------------------------------------------------------------------------------------------------  
  
## CRUD ##  
1. C (Insert)  
   2) 삽입시킬 데이터를 담은 Entity 생성  
   3) 해당 Entity를 엔티티 매니저를 통해 영속성 컨텍스트에 저장 : persist()  
   4) 트랜잭션 커밋 => 영속 상태의 엔티티 객체 정보를 실제 db에 반영  
  
5. R (Select)  
   6) 조회할 데이터의 식별자를 가지고 엔티티 매니저를 활용하여 Entity 조회 : find()  
       → 조회된 Entity가 영속성 컨텍스트에 저장되며 영속 상태가 됨  
       → 즉, 관리 대상이 됨  
  
7. U (Update)  
   8) 변경할 데이터의 식별자를 가지고 엔티티 매니저를 활용하여 Entity 조회 : find()  
       → 조회된 Entity가 영속성 컨텍스트에 저장되며 영속 상태가 됨 (관리 대상)  
   9) 조회된 Entity를 이용하여 데이터 변경 : 필드 setter  
   10) 트랜잭션 커밋 => 영속 상태의 Entity에 변경사항이 생기면 update 쿼리 실행됨 (변경사항이 없으면 실행되지 않음)  
  
11. D (Delete)  
   12) 삭제할 데이터의 식별자를 가지고 엔티티 매니저를 활용하여 Entity 조회 : find()  
       → 조회된 Entity가 영속성 컨텍스트에 저장되며 영속 상태가 됨 (관리 대상)  
   13) 조회된 Entity를 영속성 컨텍스트에서 삭제 : remove()  
       → 기존의 영속 상태였던 Entity가 삭제 상태로 변경됨  
   14) 트랜잭션 커밋 => 해당 Entity 정보를 삭제하는 delete 쿼리 실행됨
```